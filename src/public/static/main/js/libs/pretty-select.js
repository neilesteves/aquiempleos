!function($){return $.fn.prettySelect=function(options){var defaults,init,settings,that;return $.prettySelect=$.fn.prettySelect,defaults={target:"name_category",content:"wrap_select_pretty_2",wrapper:"fieldset",classSelected:"selected",callback:function(){}},that=this,settings=$.extend({},defaults,options),init=function(elem){var _parentWrap,_this,events,functions,liList,nameCategory,select,ulList;_this=$(elem),_parentWrap=_this.parents(settings.wrapper),functions={generateList:function(){var output;return output="",$.each(elem.options,function(i,e){output=output+'<li data-value="'+elem.options[i].value+'" data-index="'+elem.options[i].index+'">'+elem.options[i].text+"</li>"}),output="<ul>"+output+"</ul>"},generateHTML:function(){var html,htmlCategory,valueDefault;valueDefault=elem.options[functions.getSelectIndex()].text,htmlCategory='<div class="select_category"><span class="'+settings.target+'">'+valueDefault+'</span><span class="icon_select_arrow"></span></div>',html='<div class="'+settings.content+'">'+htmlCategory+functions.generateList()+"</div>",$(html).insertAfter(_this)},getSelectIndex:function(){var selectedIndex;return selectedIndex=elem.selectedIndex,-1===elem.selectedIndex&&(selectedIndex=0),selectedIndex}},events={onSelected:function(event){var element,value;return element=$(this)[0],value=element.options[element.selectedIndex].text,nameCategory.html(value),settings.callback.call(this,value,settings)},showList:function(e){var ulTag;e.stopPropagation(),_this=$(this),ulTag=$("ul",_this),ulTag.is(":hidden")?ulTag.show():ulTag.hide()},hideList:function(e){ulList.is(e.target)||0!==ulList.has(e.target).length||ulList.hide()},selectItem:function(){_this=$(this),select[0].selectedIndex=_this.data("index"),select.trigger("change"),nameCategory.text(_this.text())}},functions.generateHTML(),ulList=$("ul",_parentWrap),liList=$("li",_parentWrap),select=$("select",_parentWrap),nameCategory=$("."+settings.target,_parentWrap),_this.on("change",events.onSelected)},$.extend($.prettySelect,{update:function(){that.each(function(i,element){var value;value=element.options[element.selectedIndex].text,$("."+settings.target,$(element).parent()).html(value)})}}),that.each(function(i,elem){init(elem)})}}(jQuery);