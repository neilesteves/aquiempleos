!function($){var defaults,isIE,multipleSupport;multipleSupport="undefined"!=typeof $("<input/>")[0].multiple,isIE=/msie/i.test(navigator.userAgent),defaults={classesButton:"btn-urb customfile-upload",classesInput:"customfile-filename",placeholder:"Elige un archivo",input:!1},$.fn.customFile=function(opts){var st;return st=$.extend(!0,{},defaults,opts),this.each(function(){var $button,$file,$input,$label,$wrap;$file=$(this).addClass("customfile"),$wrap=$('<div class="customfile_wrap">'),st.input||(st.classesInput=st.classesInput+" hide"),$input=$('<input type="text" readonly="readonly" class="'+st.classesInput+'" placeholder="'+st.placeholder+'"/>'),$button=$('<button type="button" class="'+st.classesButton+'"><i class="icon icon_camera"></i></button>'),$label=$('<label class="'+st.classesButton+'" for="'+$file[0].id+'"><i class="icon icon_camera"></i></label>'),$file.css({position:"absolute",left:"-9999px"}),$wrap.insertAfter($file).append($file,$input,isIE?$label:$button),$file.attr("tabIndex",-1),$button.attr("tabIndex",-1),$button.click(function(){$file.focus().click()}),$file.change(function(){var fileArr,filename,files,i,len;if(files=[],fileArr=void 0,filename=void 0,multipleSupport){for(fileArr=$file[0].files,i=0,len=fileArr.length;len>i;)files.push(fileArr[i].name),i++;filename=files.join(", ")}else filename=$file.val().split("\\").pop();$input.val(filename).attr("title",filename).focus()}),$input.on({blur:function(){$file.trigger("blur")},keydown:function(e){if(13===e.which)isIE||$file.trigger("click");else{if(8!==e.which&&46!==e.which)return 9===e.which?void 0:!1;$file.replaceWith($file=$file.clone(!0)),$file.trigger("change"),$input.val("")}}})})}}(jQuery);