yOSON.AppCore.addModule("validate_my_location",function(Sb){var afterCatchDom,catchDom,dom,functions,initialize,st,suscribeEvents;return dom={},st={frmLocation:"#frmLocation",btnForm:".btn_save",subMenuBox:".skill_buttons",tokenForm:"#hidToken",ubigeoID:"#txtIdUbigeo",progressCircle:"#progressProfile",sliderProfile:"#sliderProfile"},catchDom=function(){dom.frmLocation=$(st.frmLocation),dom.btnForm=$(st.btnForm,dom.frmLocation),dom.subMenuBox=$(st.subMenuBox),dom.tokenForm=$(st.tokenForm),dom.ubigeoID=$(st.ubigeoID),dom.sliderProfile=$(st.sliderProfile)},afterCatchDom=function(){functions.registerRules()},suscribeEvents=function(){functions.autocomplete(),functions.validateForm()},functions={autocomplete:function(){},validateForm:function(){dom.frmLocation.validate({rules:{txtAboutYou:{alphabet:!0},txtUbigeo:{autocompleteRequired:!0},txtFacebook:{facebook:!0},txtTwitter:{twitter:!0}},submitHandler:function(form){dom.btnForm.attr({disabled:"",loading:""}),$.ajax({type:"POST",url:dom.frmLocation.attr("action"),data:dom.frmLocation.serialize()}).done(function(result){var liSkill;dom.btnForm.removeAttr("disabled loading"),dom.tokenForm.val(result.token),result.percent&&$.isNumeric(result.percent)?Sb.trigger("updateProgressBar",window.circleProgressBar[st.progressCircle],result.percent):log("el porcentaje no es numérico"),liSkill=dom.sliderProfile.find("li[data-rel='"+result.iscompleted[0]+"']"),1===result.iscompleted[1]?liSkill.addClass("is_passed"):liSkill.removeClass("is_passed"),1===result.status?yOSON.utils.showMessage(dom.subMenuBox,"success",result.message):yOSON.utils.showMessage(dom.subMenuBox,"error",result.message)}).fail(functions.showError)}}),dom.btnForm.removeAttr("disabled")},showError:function(result){dom.btnForm.removeAttr("disabled loading"),dom.tokenForm.val(result.token),yOSON.utils.showMessage(dom.subMenuBox,"error","Hubo un error, intente nuevamente")},registerRules:function(){jQuery.validator.addMethod("autocompleteRequired",function(value,element){return""!==dom.ubigeoID.val()},"Seleccione una ubicacion de la lista."),jQuery.validator.addMethod("facebook",function(value,element){return/^((http\:\/\/|https\:\/\/)?(?:www\.)?(facebook|fb)\.com\/(?:(?:\w\.)*#!\/)?(?:pages\/)?(?:[\w\-\.]*\/)*([\w\-\.]*))?$/gim.test(value)},"Ingrese una dirección de facebook valida"),jQuery.validator.addMethod("twitter",function(value,element){return/^(@[a-zA-Z0-9_]+)?$/.test(value)},"Ingrese un usuario de twitter válido")}},initialize=function(oP){$.extend(st,oP),catchDom(),afterCatchDom(),suscribeEvents()},{init:initialize}},[]);