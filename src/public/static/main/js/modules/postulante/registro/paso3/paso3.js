yOSON.AppCore.addModule("add_skill",function(Sb){var afterCatchDom,catchDom,dom,events,functions,initialize,st,suscribeEvents;return dom={},st={txtSkillField:"#txtSkillField",miniForm:".step3_skills_mini_form",btnAddSkill:".btn_add_skill",tplTags:"#tplItemSkill",classContainer:"step3_skills_selected_container",classClose:"close_skills",classItem:"step3_skills_selected_item",listResult:".autocomplete_result",factoryTags:null,limitItems:parseInt(yOSON.maxTags),regexA:new RegExp("[àáâãäå]","g"),regexE:new RegExp("[èéêë]","g"),regexI:new RegExp("[ìíîï]","g"),regexO:new RegExp("[òóôõö]","g"),regexU:new RegExp("[ùúûü]","g")},catchDom=function(){dom.container=$("."+st.classContainer),dom.txtSkillField=$(st.txtSkillField,dom.container),dom.btnAddSkill=$(st.btnAddSkill,dom.container),dom.miniForm=$(st.miniForm,dom.container),dom.item=$("."+st.classItem,dom.container),dom.close=$("."+st.classClose,dom.container),dom.listResult=$(st.listResult,dom.container)},afterCatchDom=function(){st.factoryTags=_.template($(st.tplTags).html())},suscribeEvents=function(){dom.btnAddSkill.length>0&&dom.btnAddSkill.on("click",events.eDrawTagsTriggerClick),dom.txtSkillField.on("keyup",events.eDrawTagsTriggerKey)},events={eDrawTagsTriggerClick:function(e){var id,value;value=dom.txtSkillField.val(),id="",functions.fnDrawTagsManager(value,id)},eDrawTagsTriggerKey:function(e){var id,value;e.preventDefault(),e.stopPropagation(),13===e.which&&(value=dom.txtSkillField.val(),id="",functions.fnDrawTagsManager(value,id))}},functions={fnDrawTagsManager:function(value,id){var flag,quantity;return value=value.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\+/g,"&#43;").replace(/\*/g,"&#42;").replace(/\?/g,"&#63;"),flag=dom.txtSkillField.attr("loading"),"undefined"!=typeof flag&&flag!==!1?!1:$.trim(value).length<=0||$.trim(value).length>80?!1:(quantity=$("."+st.classItem).length,quantity>=st.limitItems?!1:(dom.btnAddSkill.length>0&&dom.btnAddSkill.attr("disabled","disabled"),dom.txtSkillField.val(""),$(st.listResult).html(""),$(st.listResult).addClass("hide"),void(functions.fnValidateRepeatedText(value,id)&&(functions.fnDrawTag(value,id),functions.fnBlockItems(quantity)))))},fnValidateRepeatedText:function(value,id){var cleanedKey,isUnique,values;return values=[],cleanedKey=$.trim(value.toLowerCase()),cleanedKey=cleanedKey.replace(st.regexA,"a"),cleanedKey=cleanedKey.replace(st.regexE,"e"),cleanedKey=cleanedKey.replace(st.regexI,"i"),cleanedKey=cleanedKey.replace(st.regexO,"o"),cleanedKey=cleanedKey.replace(st.regexU,"u"),values.push(cleanedKey),isUnique=!0,$("."+st.classItem).each(function(index,element){var key;return key=$.trim($(element).find("label").html()).toLowerCase(),key=key.replace(st.regexA,"a"),key=key.replace(st.regexE,"e"),key=key.replace(st.regexI,"i"),key=key.replace(st.regexO,"o"),key=key.replace(st.regexU,"u"),-1!==$.inArray(key,values)?(functions.showItemRepeated(element),isUnique=!1,!1):void values.push(key)}),isUnique},fnDrawTag:function(value,id){var data,html;data={classItem:st.classItem,classClose:st.classClose,value:value,id:id},html=st.factoryTags(data),dom.container.append(html)},fnBlockItems:function(quantity){quantity>=st.limitItems&&(dom.txtSkillField.attr("disabled","disabled"),dom.txtSkillField.parent().attr("disabled","disabled"))},showItemRepeated:function(element){element=$(element),dom.miniForm.prepend('<div class="text_repeated_message">La aptitud ingresada ya existe</div>'),element.addClass("item_repeated"),setTimeout(function(){$(".text_repeated_message").fadeOut(function(){$(".text_repeated_message").remove()}),element.removeClass("item_repeated")},2e3)}},initialize=function(oP){$.extend(st,oP),catchDom(),afterCatchDom(),suscribeEvents(),Sb.events(["fnDrawTagsManager"],functions.fnDrawTagsManager,this)},{init:initialize}},["js/libs/underscore/underscore-min.js"]),yOSON.AppCore.addModule("autocomplete_skills",function(Sb){var afterCatchDom,catchDom,dom,functions,initialize,st;return dom={},st={txtSkillField:"#txtSkillField",urlSkills:"/registro/filtrar-aptitudes",btnAddSkill:".btn_add_skill",classItem:"step3_skills_selected_item",limitItems:parseInt(yOSON.maxTags),enableField:!0,disabledField:!1},catchDom=function(){dom.frmPrincipal=$(st.frmPrincipal),dom.txtSkillField=$(st.txtSkillField),dom.btnAddSkill=$(st.btnAddSkill)},afterCatchDom=function(){dom.txtSkillField.custom_autocomplete({urlAutocomplete:st.urlSkills,getTokenAjax:yOSON.utils.getToken,numLettersToStart:0,fnAfterUpdateText:functions.fnSelectSkill,fnBeforeSendRequest:functions.fnBeforeSendRequest,fnAfterSendRequest:functions.fnAfterSendRequest,fnAfterCleanSearch:functions.fnAfterCleanXHR})},functions={fnSelectSkill:function(value,id){var context;context={txtSkillField:dom.txtSkillField,btnAddSkill:dom.btnAddSkill},Sb.trigger("fnDrawTagsManager",value,id,context),functions.fnToggleEnableField(st.disabledField)},fnBeforeSendRequest:function(){functions.fnToggleEnableField(st.disabledField)},fnAfterSendRequest:function(){var quantity;quantity=$("."+st.classItem).length,quantity<st.limitItems&&functions.fnToggleEnableField(st.enableField)},fnAfterCleanXHR:function(){functions.fnToggleEnableField(st.disabledField)},fnToggleEnableField:function(accion){return 0===dom.btnAddSkill.length?!1:void(accion===st.disabledField?dom.btnAddSkill.attr("disabled","disabled"):dom.btnAddSkill.removeAttr("disabled"))}},initialize=function(oP){$.extend(st,oP),catchDom(),afterCatchDom()},{init:initialize}},["js/libs/jquery.autocomplete.custom.js"]),yOSON.AppCore.addModule("autocomplete_ubication_widget",function(Sb){var afterCatchDom,catchDom,dom,functions,initialize,st;return dom={},st={txtUbicacion:"#txtUbicacion",txtIdUbicacion:"#ubigeo",urlConsultUbigeo:"/registro/filtrar-ubigeo/ubigeo"},catchDom=function(){dom.txtUbicacion=$(st.txtUbicacion),dom.txtIdUbicacion=$(st.txtIdUbicacion)},afterCatchDom=function(){dom.txtUbicacion.custom_autocomplete({hiddenValue:st.txtIdUbicacion,urlAutocomplete:st.urlConsultUbigeo,getTokenAjax:yOSON.utils.getToken,fnAfterUpdateText:functions.fnValidateField})},functions={fnValidateField:function(){Sb.trigger("fnValidateField",st.txtUbicacion)}},initialize=function(oP){$.extend(st,oP),catchDom(),afterCatchDom()},{init:initialize}},["js/libs/jquery.autocomplete.custom.js"]),yOSON.AppCore.addModule("close_skill_tag",function(Sb){var catchDom,dom,events,functions,initialize,st,suscribeEvents;return dom={},st={txtSkillField:"#txtSkillField",classContainer:"step3_skills_selected_container",classClose:"close_skills",classItem:"step3_skills_selected_item",btnAddSkill:".btn_add_skill",limitItems:parseInt(yOSON.maxTags)},catchDom=function(){dom.btnAddSkill=$(st.btnAddSkill),dom.txtSkillField=$(st.txtSkillField),dom.container=$("."+st.classContainer),dom.close=$("."+st.classClose,dom.container)},suscribeEvents=function(){dom.container.on("click","."+st.classClose,events.eCloseElement)},events={eCloseElement:function(e){var quantity;quantity=$("."+st.classItem).length,$(this).parent().remove(),quantity===st.limitItems&&functions.fnEnableItems()}},functions={fnEnableItems:function(){var txtSkillValue;dom.txtSkillField.removeAttr("disabled"),dom.txtSkillField.parent().removeAttr("disabled"),txtSkillValue=$.trim(dom.txtSkillField.val()),txtSkillValue.length>0&&dom.btnAddSkill.removeAttr("disabled")}},initialize=function(oP){$.extend(st,oP),catchDom(),suscribeEvents()},{init:initialize}},["js/libs/jquery.autocomplete.custom.js","js/libs/underscore/underscore-min.js"]),yOSON.AppCore.addModule("hover_list_address",function(Sb){var catchDom,dom,events,initialize,st,suscribeEvents;return dom={},st={items:".step3_locations_selected_item",container:".step3_locations_selected_container"},catchDom=function(){dom.container=$(st.container)},suscribeEvents=function(){dom.container.on("mouseenter",st.items,events.eAddHover),dom.container.on("mouseleave",st.items,events.eRemoveHover)},events={eAddHover:function(){$(this).addClass("step3_locations_selected_item_hover")},eRemoveHover:function(){$(this).removeClass("step3_locations_selected_item_hover")}},initialize=function(oP){$.extend(st,oP),catchDom(),suscribeEvents()},{init:initialize}},[]),yOSON.AppCore.addModule("salary_range_slider",function(Sb){var afterCatchDom,catchDom,dom,functions,initialize,st;return dom={},st={container:"#containerSlider",salarySlider:"#salarySlider",salaryMin:".min_salary",salaryMax:".max_salary",minSalarySelected:".min_salary_selected",maxSalarySelected:".max_salary_selected",tooltip:".tooltip_salary_too_high",txtRemuneracion:"#txtremuneracion",loadingSlider:"#loadingSlider",sliderLoaded:"#sliderLoaded",minInterval:parseInt(yOSON.minInterval),maxInterval:parseInt(yOSON.maxInterval),maxCurrentInterval:parseInt(yOSON.maxCurrentInterval),minCurrentInterval:parseInt(yOSON.minCurrentInterval),salaryTooHigh:parseInt(yOSON.salaryTooHigh),lengthSalary:0,salaryRange:$.map(yOSON.salaryRange,function(el){return el})},catchDom=function(){dom.container=$(st.container),dom.tooltip=$(st.tooltip,dom.container),dom.salaryMin=$(st.salaryMin,dom.container),dom.salaryMax=$(st.salaryMax,dom.container),dom.salarySlider=$(st.salarySlider,dom.container),dom.maxSalarySelected=$(st.maxSalarySelected,dom.container),dom.minSalarySelected=$(st.minSalarySelected,dom.container),dom.loadingSlider=$(st.loadingSlider,dom.container),dom.sliderLoaded=$(st.sliderLoaded,dom.container),dom.txtRemuneracion=$(st.txtRemuneracion)},afterCatchDom=function(){var maxCurrentSalary,maxSalary,minCurrentSalary,minSalary;minSalary=st.salaryRange[0],maxSalary=st.salaryRange[st.maxInterval],st.lengthSalary=st.salaryRange.length-1,minCurrentSalary=st.salaryRange[st.minCurrentInterval],maxCurrentSalary=st.salaryRange[st.maxCurrentInterval],dom.minSalarySelected.html(minCurrentSalary),dom.maxSalarySelected.html(maxCurrentSalary),dom.salaryMin.html(minSalary),dom.salaryMax.html(st.salaryRange[st.lengthSalary]),dom.txtRemuneracion.val(minCurrentSalary+"-"+maxCurrentSalary),$(st.salarySlider).ionRangeSlider({type:"double",values:st.salaryRange,min:0,max:st.salaryRange.length,from:st.minCurrentInterval,to:st.maxCurrentInterval,min_interval:st.minInterval,max_interval:st.maxInterval,drag_interval:!0,hide_min_max:!0,hide_from_to:!0,onChange:function(args){dom.minSalarySelected.html(args.from_value),dom.maxSalarySelected.html(args.to_value),dom.txtRemuneracion.val(args.from_value+"-"+args.to_value),functions.fnUpdateMaxLabel(args.from)}}),dom.loadingSlider.addClass("hide"),dom.sliderLoaded.removeClass("hide"),functions.fnUpdateMaxLabel(st.maxCurrentInterval,st.maxInterval)},functions={fnUpdateMaxLabel:function(currentMinInterval){currentMinInterval===st.lengthSalary?($(".irs-slider.from").css("z-index","3"),dom.salaryMax.html("más de "+st.salaryRange[st.lengthSalary])):($(".irs-slider.from").css("z-index","1"),dom.salaryMax.html(st.salaryRange[st.lengthSalary]))}},initialize=function(oP){$.extend(st,oP),catchDom(),afterCatchDom()},{init:initialize}},["js/libs/ion.rangeSlider/js/ion.rangeSlider.min.js"]),yOSON.AppCore.addModule("submit_form",function(Sb){var afterCatchDom,catchDom,dom,events,functions,initialize,st,suscribeEvents;return dom={},st={btnSubmit:".btn_continuar",form:"#frmPrincipal",txtUbicacion:"#txtUbicacion",frmPrincipal:"form#frmPrincipal"},catchDom=function(){dom.btnSubmit=$(st.btnSubmit),dom.form=$(st.form),dom.frmPrincipal=$(st.frmPrincipal),dom.txtUbicacion=$(st.txtUbicacion)},afterCatchDom=function(){functions.fnRegisterRules(),functions.fnInitValidateForm()},suscribeEvents=function(){dom.txtUbicacion.on("change",events.eValidateIfHasAnError),dom.btnSubmit.on("click",events.eSubmitForm),dom.frmPrincipal.on("submit",events.eValidateForm)},events={eValidateIfHasAnError:function(e){dom.txtUbicacion.hasClass("error")&&setTimeout(function(){$(".step3_locations_selected_item").length>0&&(dom.txtUbicacion.removeClass("error"),dom.txtUbicacion.parent().removeClass("error"))},150)},eValidateForm:function(e){dom.frmPrincipal.validate()},eSubmitForm:function(e){dom.frmPrincipal.submit()}},functions={fnInitValidateForm:function(){st.validator=dom.frmPrincipal.validate({onfocusout:!1,rules:{txtUbicacion:{verifySelection:!0}}})},fnRegisterRules:function(){jQuery.validator.addMethod("verifySelection",function(value,element){return $(".step3_locations_selected_item").length>0},"Debe registrar al menos una ubicación")},fnValidateField:function(input){st.validator.element(input)}},initialize=function(oP){$.extend(st,oP),catchDom(),afterCatchDom(),suscribeEvents(),Sb.events(["fnValidateField"],functions.fnValidateField,this)},{init:initialize}},[]);