(function(e){e.extend(e.fn,{pstrength:function(t){var t=e.extend({verdects:["Muy debil","Debil","Mediano","Fuerte","Muy Fuerte"],colors:["#f00","#c06","#f60","#3c0","#74E059"],scores:[10,15,30,40],common:["password","sex","god","123456","123","liverpool","letmein","qwerty","monkey"],minchar:6},t);return this.each(function(){var n=e(this).attr("id");var r=e(this).attr("data-pstrength-container");var i='<div class="pstrength-bar" id="'+n+'_bar" style="display:none; border: 1px solid white; font-size: 1px; height: 5px; width: 0px;"></div><div class="pstrength-info" id="'+n+'_text"></div>';if(r){e(r).html(i)}else{e(this).after(i)}e(this).keyup(function(){e.fn.runPassword(e(this).val(),n,t)})})},runPassword:function(t,n,r){nPerc=e.fn.checkPassword(t,r);var i="#"+n+"_bar";var s="#"+n+"_text";if(nPerc==-200){strColor="#f00";strText="Contraseña insegura!";e(i).css({width:"0%"})}else{if(nPerc<0&&nPerc>-199){e(i).css("display","block");strColor="#ccc";strText="Muy corto";e(i).css({width:"5%"})}else{if(nPerc<=r.scores[0]){strColor=r.colors[0];strText=r.verdects[0];e(i).css({width:"10%"})}else{if(nPerc>r.scores[0]&&nPerc<=r.scores[1]){strColor=r.colors[1];strText=r.verdects[1];e(i).css({width:"25%"})}else{if(nPerc>r.scores[1]&&nPerc<=r.scores[2]){strColor=r.colors[2];strText=r.verdects[2];e(i).css({width:"50%"})}else{if(nPerc>r.scores[2]&&nPerc<=r.scores[3]){strColor=r.colors[3];strText=r.verdects[3];e(i).css({width:"75%"})}else{strColor=r.colors[4];strText=r.verdects[4];e(i).css({width:"100%"})}}}}}}e(i).css({backgroundColor:strColor});e(s).html("<span style='*float:left; color: "+strColor+";'>"+strText+"</span><div class='kotear-tip' style='display:none'><span style='*float:left;'>Nivel de seguridad de clave: </span><span class='arrow-min-toltip' />Te recomendamos usar una cantidad mínima de 6 caracteres entre @, #, &, mayúsculas, minúsculas y números.</div>")},checkPassword:function(e,t){var n=0;var r=t.verdects[0];if(e.length<t.minchar){n=n-100}else{if(e.length>=t.minchar&&e.length<=t.minchar+2){n=n+6}else{if(e.length>=t.minchar+3&&e.length<=t.minchar+4){n=n+12}else{if(e.length>=t.minchar+5){n=n+18}}}}if(e.match(/[a-z]/)){n=n+1}if(e.match(/[A-Z]/)){n=n+5}if(e.match(/\d+/)){n=n+5}if(e.match(/(.*[0-9].*[0-9].*[0-9])/)){n=n+7}if(e.match(/.[!,@,#,$,%,^,&,*,?,_,~]/)){n=n+5}if(e.match(/(.*[!,@,#,$,%,^,&,*,?,_,~].*[!,@,#,$,%,^,&,*,?,_,~])/)){n=n+7}if(e.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)){n=n+2}if(e.match(/([a-zA-Z])/)&&e.match(/([0-9])/)){n=n+3}if(e.match(/([a-zA-Z0-9].*[!,@,#,$,%,^,&,*,?,_,~])|([!,@,#,$,%,^,&,*,?,_,~].*[a-zA-Z0-9])/)){n=n+3}for(var i=0;i<t.common.length;i++){if(e.toLowerCase()==t.common[i]){n=-200}}return n}})})(jQuery)
