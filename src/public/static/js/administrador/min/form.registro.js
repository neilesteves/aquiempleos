$(function(){var b={cDef:{good:"¡Correcto!",bad:"Campo Requerido",def:"Opcional",acepto:"Debe aceptar las Políticas de Privacidad para continuar."},cEmail:{good:"¡Correcto!",bad:"Debe ingresar su dirección e-mail.",def:"Ingrese e-mail correcto.",mailValid:"Email ya registrado."},cPass:{good:"¡Correcto! Verifica la seguridad de tu clave",bad:"Usa de 6 a 32 caracteres",def:"Usa de 6 a 32 caracteres ¡Sé ingenioso!",sec:{msgDef:"Nivel de seguridad",msg1:"Demasiado corta",msg2:"Débil",msg3:"Fuerte",msg4:"Muy fuerte"}},cRePass:{good:"¡Correcto!",bad:"Las contraseñas introducidas no coinciden. Vuelve a intentarlo.",def:"Tienen que ser iguales"},cPhoto:{good:"Quedo bien tu logo",bad:"No subio el logo",def:"Sube tu logo"},cName:{good:"El nombre es correcto.",bad:"¡Se requiere su nombre!",def:"Ingrese nombre correcto"},cApell:{good:"El Apellido es correcto.",bad:"¡Se requiere su apellido!",def:"Ingrese apellido correcto"},cNameCom:{good:"El nombre comercial es correcto",bad:"¡Se requiere su nombre comercial!",def:"Ingrese nombre correcto"},cRazSoc:{good:"La razón social es correcto",bad:"¡Se requiere su razón social!",def:"Ingrese razón social correcta"},cRuc:{good:"Su RUC es correcto",bad:"¡Se requiere su RUC!",def:"Ingrese su RUC correcta",rucValid:"Ruc ya registrado.",incorrect:"¡Ruc incorrecto!"},cTlfNum:{good:"!Correcto¡",bad:"Incorrecto",def:"Ingrese Número Fijo ó Celular"},cSDoc:{good:"!Correcto¡",bad:"",def:"¡Correcto!"},cPais:{good:"!Correcto¡",bad:"Selecciona país",def:"!OK¡"},cDepa:{good:"!Correcto¡",bad:"Selecciona Departamento",def:"!Correcto¡"},cDist:{good:"!Correcto¡",bad:"Selecciona Distrito",def:"!Correcto¡"},cRubro:{good:"!Correcto¡",bad:"Selecciona Rubro",def:"!Correcto¡"}};var c={rs:".response",okR:"ready",sendFlag:"sendN",loading:'<div class="loading"></div>'};var a={fMail:function(d,e,g,f){$(d).bind("blur",function(){var i=$(this),j=i.next(c.rs),h=/^(([a-zA-Z0-9_.-])+@([a-zA-Z0-9_.-])+\.([a-zA-Z])+([a-zA-Z])+)?$/g;if(h.test(i.val())&&i.val()!=""){}else{j.removeClass("good").addClass("bad").text(g);i.removeClass(c.okR)}})},fRuc:function(e,f,h,g,d){$(e).bind("blur",function(){var i=$(this),j=i.next(c.rs);if(i.val()!=""&&i.val().length==i.attr("datamaxlength")){a._fRucValid(e,i,j)}else{if(i.val()!=""){j.removeClass("good").addClass("bad").text(d);i.removeClass(c.okR)}else{j.removeClass("good").addClass("bad").text(h);i.removeClass(c.okR)}}})},_fRucValid:function(d,f,g){var e=f;g.text("");e.addClass("loadingMail");$.ajax({url:"/empresa/registro-empresa/validar-ruc/",type:"post",data:{ndoc:e.val()},dataType:"json",success:function(h){if(h.status==true){e.addClass("ready").removeClass("loadingMail");g.removeClass("bad def").addClass("good").text(b.cRuc.good)}else{e.removeClass("ready").removeClass("loadingMail");g.removeClass("good def").addClass("bad").text(b.cRuc.rucValid);f.removeClass(c.okR)}},error:function(h){e.removeClass("ready").removeClass("loadingMail");g.removeClass("good def").addClass("bad").text(b.cRuc.rucValid);f.removeClass(c.okR)}})},fPass:function(z,x,w){var j=b.cPass.good,g=b.cPass.bad,l=b.cPass.def,k=b.cPass.sec.msgDef,v=b.cPass.sec.msg1,u=b.cPass.sec.msg2,t=b.cPass.sec.msg3,s=b.cPass.sec.msg4,p=$("#pf1"),o=$("#pf2"),n=$("#pf3"),m=$("#pf4"),h=$("#txtPass"),B=/[a-z]|[A-Z]|\d|[^A-Za-z0-9]/,A=/[a-z]/,f=/[A-Z]/,q=/\d/,y=/[^A-Za-z0-9]/,d=/[a-z]+[A-Z]+|[A-Z]+[a-z]+|[a-z]+\d+|\d+[a-z]+|[a-z]+[^A-z0-9]+|[^A-z0-9]+[a-z]+/,i=/[A-Z]+\d+|\d+[A-Z]+|[A-Z]+[^A-z0-9]+|[^A-z0-9]+[A-Z]+/,e=/[^A-z0-9]+\d+|\d+[^A-z0-9]+/;$(z).keyup(function(){var D=$(this),C=$(this).val(),E=D.parents(".block").find(c.rs);if(C.length>=(x)){E.removeClass("bad").addClass("good").text(j);if(B.test(D.val())){p.removeClass("bgRed bgGreen").addClass("bgYellow");o.removeClass("bgRed bgGreen").addClass("bgYellow");n.removeClass("bgRed bgGreen");m.removeClass("bgGreen");h.text(u);if(d.test(D.val())||i.test(D.val())||e.test(D.val())){p.removeClass("bgRed bgYellow").addClass("bgGreen");o.removeClass("bgRed bgYellow").addClass("bgGreen");n.removeClass("bgYellow").addClass("bgGreen");m.removeClass("bgGreen");h.text(t)}if(f.test(D.val())&&q.test(D.val())&&y.test(D.val())){p.removeClass("bgRed bgYellow").addClass("bgGreen");o.removeClass("bgRed bgYellow").addClass("bgGreen");n.removeClass("bgYellow").addClass("bgGreen");m.addClass("bgGreen");h.text(s)}}D.addClass(c.okR)}else{E.removeClass("good bad").text(l);p.addClass("bgRed").removeClass("bgYellow bgGreen");o.removeClass("bgYellow bgGreen");n.removeClass("bgGreen");m.removeClass("bgGreen");h.text(v);D.removeClass(c.okR)}if(C.length==0){p.removeClass("bgRed bgYellow");o.removeClass("bgRed bgYellow");h.text(k)}var F=$(w);if(F.val().length>0){rr=F.next(c.rs);if(F.val()!==D.val()){rr.removeClass("god bad").text(b.cRePass.def)}else{rr.removeClass("bad").addClass("good").text(b.cRePass.good)}}}).blur(function(){var C=$(this);r=C.parents(".block").find(c.rs);if(C.val().length>=x){r.removeClass("bad").addClass("good").text(j);C.addClass(c.okR)}else{r.removeClass("good").addClass("bad").text(g);C.removeClass(c.okR)}})},fRePass:function(e,d,j){var g=b.cRePass.good,i=b.cRePass.bad,h=b.cRePass.def,f=$(e).next(c.rs);$(e).keyup(function(){var k=$(this);if(k.val().length>=j){if(k.val()===$(d).val()){f.removeClass("bad").addClass("good").text(g);k.addClass(c.okR)}else{f.removeClass("good bad").text(h);k.removeClass(c.okR)}}else{f.removeClass("good bad").text(h);k.removeClass(c.okR)}}).blur(function(){var k=$(this);if(k.val().length>=j){if(k.val()!==$(d).val()){f.removeClass("good").addClass("bad").text(i);k.removeClass(c.okR)}else{f.removeClass("bad").addClass("good").text(g);k.addClass(c.okR)}}else{f.removeClass("good").addClass("bad").text(i);k.removeClass(c.okR)}})},upPhoto:function(e,d,i,f,h,g){$(i).bind("click",function(j){j.preventDefault();$(e).trigger("click")});if($.browser.opera){$(e).css({left:"10px"})}},fInput:function(f,h,j,i,e){var d=$(f),g=d.parents(".block").find(c.rs);d.blur(function(){var k=$(this);if(k.val().length>0){if(e==true){g.removeClass("bad").addClass("good").text(h);k.addClass(c.okR)}}else{if(e==true){g.removeClass("good").addClass("bad").text(j);k.removeClass(c.okR)}}}).keydown(function(){var k=$(this);if(k.val().length===0){if(e==true){g.removeClass("good").addClass("bad").text(j);k.removeClass(c.okR)}}else{if(e==true){g.removeClass("good bad").text(i);k.addClass(c.okR)}}})},fIDate:function(e,g,i,h){var d=$(e),f=d.parent().next(c.rs);d.change(function(){var j=$(this);f.removeClass("bad").addClass("good").text(g);j.addClass(c.okR)})},fRadius:function(f,e,g,i,h){var d=$(f);d.bind("change",function(){var j=$(this);d.removeClass(c.okR);if(j.is(":checked")){j.addClass(c.okR)}j.parents(e).next(c.rs).removeClass("def bad").addClass("good").text(g)})},fINum:function(d){return $(d).each(function(){var e=$(this);e.keydown(function(g){var f=g.keyCode||g.charCode||g.which||window.e;return(f==8||f==9||f==32||(f>=48&&f<=57)||(f>=96&&f<=106)||f==109||f==116)})})},fOnlyNumTlf:function(d){return $(d).each(function(){var f=$(this),e=false;f.keypress(function(h){var g=h.keyCode||h.charCode||h.which||window.e;if(g==16){e=true}return(g==8||g==9||g==32||g==40||g==41||g==42||g==45||g==35||(g==48&&e==false)||(g==49&&e==false)||(g==50&&e==false)||(g==51&&e==false)||(g==52&&e==false)||(g==53&&e==false)||(g==54&&e==false)||(g==55&&e==false)||(g==56&&e==false)||(g==57&&e==false))});f.bind("paste",function(){setTimeout(function(){var g=f.val();var h=g.replace(/[^0-9-#-*-(-)--]/g,"");f.val(h)},0)})})},fOnlyNumDoc:function(d){return $(d).each(function(){var f=$(this),e=false;f.keypress(function(h){var g=h.keyCode||h.charCode||h.which||window.e;if(g==16){e=true}return(g==8||g==9||g==32||(g==48&&e==false)||(g==49&&e==false)||(g==50&&e==false)||(g==51&&e==false)||(g==52&&e==false)||(g==53&&e==false)||(g==54&&e==false)||(g==55&&e==false)||(g==56&&e==false)||(g==57&&e==false))});f.bind("paste",function(){setTimeout(function(){var g=f.val();var h=g.replace(/[^0-9]/g,"");f.val(h)},0)})})},fWordsOnly:function(d){return $(d).each(function(){var e=$(this);
e.keydown(function(g){var f=g.keyCode||g.charCode||g.which||window.e;return(f==8||f==9||f==13||f==32||f>64&&f<91||f==192)})})},fUbi:function(m,l,k){var i=$(m),h=$(l),f=$(k),d=$.trim(i.attr("rel")),j=$.trim(h.attr("rel"));var g=$.trim($(m+" option:selected").val());var e=$.trim($(l+" option:selected").val());if(g!=d&&g!="none"){i.addClass(c.sendFlag);h.attr("disabled","disabled").val("none").focus().siblings("label").addClass("noReq").children("span").html("&nbsp;");f.attr("disabled","disabled").val("none").focus().siblings("label").addClass("noReq").children("span").html("&nbsp;");h.removeClass(c.okR).next().html("&nbsp;").removeClass("bad good");f.next().html("&nbsp;").removeClass("bad good")}else{if(g==d&&(e!=j&&e!="none")){f.attr("disabled","disabled").val("none").focus().next(c.rs).removeClass("god bad").text("")}else{if(g==d){i.addClass(c.okR);h.addClass(c.okR)}}}i.bind("change",function(){var n=$(this);if(n.val()===d){n.removeClass(c.sendFlag);h.removeAttr("disabled");h.siblings("label").removeClass("noReq").children("span").html("* ")}else{n.addClass(c.sendFlag);h.attr("disabled","disabled").val("none").focus().siblings("label").addClass("noReq").children("span").html("&nbsp;");f.attr("disabled","disabled").val("none").focus().siblings("label").addClass("noReq").children("span").html("&nbsp;");h.removeClass(c.okR).next().html("&nbsp;").removeClass("bad good");f.removeClass(c.okR).next().html("&nbsp;").removeClass("bad good")}if(n.val()==="none"){i.removeClass(c.okR)}else{i.addClass(c.okR)}});h.bind("change",function(){var n=$(this);if(n.val()===j){f.removeAttr("disabled");f.siblings("label").removeClass("noReq").children("span").html("* ")}else{f.attr("disabled","disabled").val("none").focus().siblings("label").addClass("noReq").children("span").html("&nbsp;");f.removeClass(c.okR).next().html("&nbsp;").removeClass("bad good");h.next().html("&nbsp;").removeClass("bad good")}})},fSelect:function(e,g,i,h){var d=$(e),f=d.next(c.rs);d.bind("change",function(){var j=$(this);if(j.val()==="none"){d.removeClass(c.okR);f.removeClass("good def").addClass("bad").text(i)}else{f.addClass("good").removeClass("bad def").text(g);d.addClass(c.okR)}})},fOldPass:function(d){var e=$(d),f=e.siblings(".response");if(($("body").is("#myAccount"))){e.keyup(function(){f.removeClass("bad good").addClass("def").text("")})}},maxLenghtInput:function(e){var d=$(e);$.each(d,function(g,f){$(f).attr("dataMaxlength",$(f).attr("maxlength"))});d.bind("keyup click blur focus change paste",function(j){var h=$(this),k=parseInt(h.attr("dataMaxlength")),f;var g=j.which;var i=h.val().length;if(i>k){f=h.val().substring(k,"");d.val(f)}})},fSubmit:function(P,O,N,G,E,C,v,s,q,p,o,n,f,e,d){var w=$(P),t=$(O),l=12,m=13,J=11,M=$(G),L=$(E),K=$(C),I=$(v),H=$(s),F=$(q),D=$(p),x=$(o),u=$(n),j=$(f),i=$(e),g=$("#errorMsgRE"),h=$(d);w.bind("click",function(k){k.preventDefault();if(u.val()!=u.attr("rel")){N=J}else{if(j.val()!=j.attr("rel")){N=l}else{N=m}}if(t.find("."+c.okR).size()>=N){if($("#optCheckP1").prop("checked")==true){g.text("");t.submit()}else{g.text(b.cDef.acepto)}}else{k.preventDefault();$("#datoBasicoF .fields").not(".ready").removeClass("ready").parents(".block").find(".response").removeClass("def good").addClass("bad").text(b.cDef.bad)}})},deletephoto:function(d){$(d).bind("click",function(e){e.preventDefault();var f=$(this),h=$("#imgAvat");idEmpresa=f.attr("rel");h.addClass("loading").children("img").addClass("hide");if($.trim(idEmpresa)!=""){$.ajax({type:"POST",url:"/admin/mi-cuenta-empresa/eliminar-foto/",data:{rel:idEmpresa},dataType:"JSON",success:function(i){h.removeClass("loading").html('<img src="'+urls.mediaUrl+'/images/empresa/photoEmpDefault.png"/>');$("#divDelFot").addClass("hide");var j=$("#fPhoto");a.resetInputFile(j);console.log('<img src="'+urls.mediaUrl+'/images/empresa/photoEmpDefault.png"/>');console.log("success")},error:function(i){h.removeClass("loading").empty().html('<img src="'+urls.mediaUrl+'/images/empresa/photoEmpDefault.png"/>');$("#divDelFot").addClass("hide");var j=$("#fPhoto");a.resetInputFile(j);console.log("error")}})}else{h.removeClass("loading").empty().html('<img src="'+urls.mediaUrl+'/images/empresa/photoEmpDefault.png"/>');$("#divDelFot").addClass("hide");var g=$("#fPhoto");a.resetInputFile(g);console.log("else")}})},resetInputFile:function(d){d.wrap("<form></form>");d.parent().get(0).reset();d.unwrap();return d}};a.fMail("#fEmail",b.cEmail.good,b.cEmail.bad,b.cEmail.def);a.fPass("#fClave",6,"#fRClave");a.fRePass("#fRClave","#fClave",6);a.fInput("#fNombreComercial",b.cNameCom.good,b.cNameCom.bad,b.cNameCom.def,true);a.fInput("#fRazonSocial",b.cRazSoc.good,b.cRazSoc.bad,b.cRazSoc.def,true);a.fInput("#fRuc",b.cRuc.good,b.cRuc.bad,b.cRuc.def,true);a.fOnlyNumDoc("#fRuc");a.maxLenghtInput("#fRuc");a.fRuc("#fRuc",b.cRuc.good,b.cRuc.bad,b.cRuc.def,b.cRuc.incorrect);a.fInput("#fTlfAmin1",b.cTlfNum.good,b.cTlfNum.bad,b.cTlfNum.def,true);a.fOnlyNumTlf("#fTlfAmin1");a.fInput("#fTlfAmin2",b.cTlfNum.good,b.cTlfNum.bad,b.cTlfNum.def,false);a.fOnlyNumTlf("#fTlfAmin2");a.fInput("#fAnexo1",b.cTlfNum.good,b.cTlfNum.bad,b.cTlfNum.def,false);a.fOnlyNumTlf("#fAnexo1");a.fInput("#fAnexo2",b.cTlfNum.good,b.cTlfNum.bad,b.cTlfNum.def,false);a.fOnlyNumTlf("#fAnexo2");a.fInput("#fNombres",b.cName.good,b.cName.bad,b.cName.def,true);a.fInput("#fApellidos",b.cApell.good,b.cApell.bad,b.cApell.def,true);a.upPhoto("#fPhoto","#imgAvat","#triggerUpA",b.cPhoto.good,b.cPhoto.bad,b.cPhoto.def);a.fUbi("#fPais","#fDepart","#fDistri");a.fSelect("#fRubro",b.cRubro.good,b.cRubro.bad,b.cRubro.def);a.fSelect("#fPais",b.cPais.good,b.cPais.bad,b.cPais.def);a.fSelect("#fDepart",b.cDepa.good,b.cDepa.bad,b.cDepa.def);a.fSelect("#fDistri",b.cDist.good,b.cDist.bad,b.cDist.def);a.fOldPass("#fACtns");a.fSubmit("#fSubmit","#datoBasicoF",11,"#fEmail","#fClave","#fRClave","#fNombreComercial","#fRazonSocial","#fRuc","#fNombres","#fApellidos","#fPais","#fDepart","#fTlfAmin1","#fDistri");a.deletephoto("#divDelFot")});